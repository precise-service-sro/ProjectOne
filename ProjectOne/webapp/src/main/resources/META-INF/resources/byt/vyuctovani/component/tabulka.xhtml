<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:composite="http://java.sun.com/jsf/composite"
>

<composite:interface>

  <composite:attribute name="idVyuctovani" />

</composite:interface>

<composite:implementation>

  <h:form>
    <p:dataTable var="polozka" value="#{vyuctovaniBean.getRadkyVyuctovani(cc.attrs.idVyuctovani)}" resizableColumns="true" sortBy="#{1}">
      <f:facet name="header">
        <h:outputText value="#{vyuctovaniTabulkaBean.nazev}"  /> --- <h:outputText value="#{vyuctovaniTabulkaBean.zuctovaciObdobi}" />
      </f:facet>

      <p:columnGroup type="header">
        <p:row>
          <p:column headerText="Název"                               />
          <p:column headerText="Vyúčtovat jako" style="width: 200px;"/>
          <p:column headerText="Poč. stav"      style="width: 100px;"/>
          <p:column headerText="Kon. stav"      style="width: 100px;"/>
          <p:column headerText="Spotřeba"       style="width: 100px;"/>
          <p:column headerText="Zálohy"         style="width: 100px;"/>
          <p:column headerText="Náklady"        style="width: 100px;" />
          <p:column headerText="Rozdíl"         style="width: 100px;" />
        </p:row>
      </p:columnGroup>

      <p:column>
        <h:outputText value="#{polozka.nazev}" /> [ <h:outputText value="#{polozka.spotrebaJednotka}" /> ]
      </p:column>

      <p:column>
        <h:outputText value="#{polozka.vyuctovatJako}" title="#{polozka.popis}"/>
      </p:column>

      <p:column style="text-align: right">
        <h:outputText value="#{polozka.pocatecniStav}">
          <f:convertNumber pattern="#0.00" />
        </h:outputText>
      </p:column>

      <p:column style="text-align: right">
        <h:outputText value="#{polozka.koncovyStav}">
          <f:convertNumber pattern="#0.00" />
        </h:outputText>
      </p:column>

      <p:column style="text-align: right">
        <h:outputText value="#{polozka.spotrebaMnozstvi}">
          <f:convertNumber pattern="#0.00" />
        </h:outputText>
      </p:column>

      <p:column style="text-align: right">
        <h:outputText value="#{polozka.zalohy}">
          <f:convertNumber type="currency" pattern="#0.00 Kč" />
        </h:outputText>
      </p:column>

      <p:column style="text-align: right">
        <h:outputText value="#{polozka.naklady}">
          <f:convertNumber type="currency" pattern="#0.00 Kč" />
        </h:outputText>
      </p:column>

      <p:column style="text-align: right">
        <h:outputText value="#{polozka.rozdil}" >
          <f:convertNumber type="currency" pattern="#0.00 Kč" />
        </h:outputText>
      </p:column>

      <p:summaryRow>
        <p:column colspan="5" style="text-align:left">
          <h:outputText value="Celkem:" />
        </p:column>
        <p:column style="text-align: right">
          <h:outputText value="#{vyuctovaniTabulkaBean.celkemZalohy}">
            <f:convertNumber type="currency" pattern="#0.00 Kč" />
          </h:outputText>
        </p:column>
        <p:column style="text-align: right">
          <h:outputText value="#{vyuctovaniTabulkaBean.celkemNaklady}">
            <f:convertNumber type="currency" pattern="#0.00 Kč" />
          </h:outputText>
        </p:column>
        <p:column style="text-align: right">
          <h:outputText value="#{vyuctovaniTabulkaBean.celkemRozdil}">
            <f:convertNumber type="currency" pattern="#0.00 Kč" />
          </h:outputText>
        </p:column>
      </p:summaryRow>
    </p:dataTable>

  </h:form>

</composite:implementation>

</html>